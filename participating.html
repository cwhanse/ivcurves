
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>How to Participate &#8212; ivcurves 1.0 documentation</title>
<script>
  document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
  document.documentElement.dataset.theme = localStorage.getItem("theme") || "light"
</script>

  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=92025949c220c2e29695" rel="stylesheet">
<link href="_static/styles/pydata-sphinx-theme.css?digest=92025949c220c2e29695" rel="stylesheet">


  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />

  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=92025949c220c2e29695">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Submissions" href="submissions/index.html" />
    <link rel="prev" title="Test Cases" href="test_cases.html" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="docsearch:language" content="en">
  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="">
    <div class="bd-header-announcement container-fluid" id="banner">
      

    </div>

    
    <nav class="bd-header navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="bd-header__inner container-xl">

  <div id="navbar-start">
    
    
  


<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
    <p class="title logo__title">ivcurves 1.0 documentation</p>
  
</a>
    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="fas fa-bars"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="leaderboard.html">
  Leaderboard
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="test_cases.html">
  Test Cases
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="current reference internal nav-link" href="#">
  How to Participate
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="submissions/index.html">
  Submissions
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="reference/index.html">
  Documentation
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <span id="theme-switch" class="btn btn-sm btn-outline-primary navbar-btn rounded-circle">
    <a class="theme-switch" data-mode="light"><i class="fas fa-sun"></i></a>
    <a class="theme-switch" data-mode="dark"><i class="far fa-moon"></i></a>
    <a class="theme-switch" data-mode="auto"><i class="fas fa-adjust"></i></a>
</span>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="bd-container container-xl">
      <div class="bd-container__inner row">
          

<div class="sidebar-primary col-12 col-md-1 col-xl-2 bd-sidebar no-sidebar"></div>


          


<div class="bd-sidebar-secondary d-none d-md-block col-md-2 bd-toc">
  
    
    <div class="toc-item">
      
<div class="tocsection onthispage mt-5 pt-1 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#submission-workflow">
   Submission Workflow
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#submission-workflow-diagram">
     Submission Workflow Diagram
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#submission-requirements">
   Submission Requirements
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#reading-iv-curve-json-test-sets">
     Reading IV Curve JSON Test Sets
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#writing-test-set-results-to-csv-files">
     Writing Test Set Results to CSV Files
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#testing-your-submission">
   Testing Your Submission
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#documenting-your-submission">
   Documenting Your Submission
  </a>
 </li>
</ul>

</nav>
    </div>
    
    <div class="toc-item">
      
    </div>
    
  
</div>


          
          
          <div class="bd-content col-12 col-md-9 col-xl-8">
              
              <article class="bd-article" role="main">
                
  <span class="target" id="participating"></span><section id="how-to-participate">
<h1>How to Participate<a class="headerlink" href="#how-to-participate" title="Permalink to this heading">#</a></h1>
<section id="submission-workflow">
<h2>Submission Workflow<a class="headerlink" href="#submission-workflow" title="Permalink to this heading">#</a></h2>
<p>These are the steps to make a submission as a competitor.
You may as many submissions as you like, and each will be a separate entry on the leaderboard.</p>
<ol class="arabic">
<li><p>Create a fork of the ivcurves repository.</p></li>
<li><p>Create a new folder <code class="docutils literal notranslate"><span class="pre">submissions/&lt;your_GitHub_username&gt;</span></code>.
This folder will store all of the files you create.</p></li>
<li><p>Write or copy your submission’s code inside <code class="docutils literal notranslate"><span class="pre">submissions/&lt;your_GitHub_username&gt;</span></code>.</p></li>
<li><p>Create a file <code class="docutils literal notranslate"><span class="pre">pr_config.json</span></code> with three entries:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;RUN_SCORER&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;REQUIREMENTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt;path_to_requirements&gt;.txt&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;SUBMISSION_MAIN&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt;path_to_submission_entrypoint&gt;.py&quot;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">REQUIREMENTS</span></code> and <code class="docutils literal notranslate"><span class="pre">SUBMISSION_MAIN</span></code> must be paths relative to <code class="docutils literal notranslate"><span class="pre">submissions/&lt;your_GitHub_username&gt;</span></code>.
For example, if your Pip requirements file is located at <code class="docutils literal notranslate"><span class="pre">submissions/&lt;your_GitHub_username&gt;/requirements.txt</span></code>, <code class="docutils literal notranslate"><span class="pre">REQUIREMENTS</span></code> should be <code class="docutils literal notranslate"><span class="pre">./requirements.txt</span></code>.</p>
</li>
<li><p>Push your changes to your fork, and then GitHub will automatically run the scorer with your code.
When it is finished, you will see either a green check mark or red x icon next to your commit indicating whether the scorer succeeded or not.
Click on the icon  to see the results of the scorer.
The scorer will also provide a CSV file containing your code’s score.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>GitHub will execute your the entrypoint of your submission <code class="docutils literal notranslate"><span class="pre">SUBMISSION_MAIN</span></code> from the same folder that contains it.
Therefore, your code may use relative paths when reading and writing files.</p>
</div>
</li>
<li><p>When you are ready, and there is a green check mark next to your latest commit, create a pull request into <code class="docutils literal notranslate"><span class="pre">cwhanse/ivcurves/main</span></code>.
GitHub will again automatically run and score your code.
An ivcurves maintainer will be notified of your pull request.</p></li>
<li><p>After an ivcurves maintainer reviews and approves your pull request, it will be merged.
GitHub will post your GitHub username and score to the leaderboard.</p></li>
</ol>
<section id="submission-workflow-diagram">
<h3>Submission Workflow Diagram<a class="headerlink" href="#submission-workflow-diagram" title="Permalink to this heading">#</a></h3>
<div class="mermaid">
            sequenceDiagram
    participant Competitor
    participant GitHub Actions
    participant ivcurves Maintainer

    activate Competitor
    Note over Competitor: Forks ivcurves repository.
    Note over Competitor: Creates folder submissions/&lt;your_GitHub_username&gt; to put their files into.
    Note over Competitor: Creates pr_config.json.
    Note over Competitor: Writes code for submission.

    Competitor-&gt;&gt;GitHub Actions: Pushes code to fork on GitHub
    deactivate Competitor
    activate GitHub Actions
    Note over GitHub Actions: Reads pr_config.json and scores submission.
    GitHub Actions-&gt;&gt;Competitor: Reports results with CSV of scores
    deactivate GitHub Actions

    Competitor-&gt;&gt;GitHub Actions: Creates pull request
    activate GitHub Actions
    Note over GitHub Actions: Reads pr_config.json and scores submission code.
    GitHub Actions-&gt;&gt;Competitor: Reports results with CSV of scores
    GitHub Actions-&gt;&gt;ivcurves Maintainer: Notifies of pull request
    deactivate GitHub Actions
    activate ivcurves Maintainer
    Note over ivcurves Maintainer: Reviews pull request.
    ivcurves Maintainer-&gt;&gt;GitHub Actions: Merges competitor's pull request
    activate GitHub Actions
    deactivate ivcurves Maintainer
    GitHub Actions-&gt;&gt;Competitor: Notifies of pull request merge
    Note over GitHub Actions: Records submission's score in database.
    Note over GitHub Actions: Updates leaderboard and submission documentation.
    deactivate GitHub Actions
        </div></section>
</section>
<section id="submission-requirements">
<h2>Submission Requirements<a class="headerlink" href="#submission-requirements" title="Permalink to this heading">#</a></h2>
<p>Your code is run with the command <code class="docutils literal notranslate"><span class="pre">python3</span> <span class="pre">&lt;filename_of_submission_entrypoint&gt;.py</span></code> from the folder containing the entrypoint of your submission.</p>
<p><strong>When your code runs, it must:</strong></p>
<ol class="arabic simple">
<li><p>Read all of the IV curve JSON test sets in the <code class="docutils literal notranslate"><span class="pre">test_sets</span></code> folder. See <a class="reference internal" href="#reading-iv-curve-json-test-sets">Reading IV Curve JSON Test Sets</a>.</p></li>
<li><p>For each test set, write a CSV file containing fitted parameters for every IV curve in the test set. See <a class="reference internal" href="#writing-test-set-results-to-csv-files">Writing Test Set Results to CSV Files</a>.</p></li>
</ol>
<section id="reading-iv-curve-json-test-sets">
<h3>Reading IV Curve JSON Test Sets<a class="headerlink" href="#reading-iv-curve-json-test-sets" title="Permalink to this heading">#</a></h3>
<p>Each JSON test set follows the <a class="reference internal" href="jsonschema.html#jsonschema"><span class="std std-ref">IV Curve JSON Schema</span></a>.
Here is an example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;Manufacturer&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
  <span class="s2">&quot;Model&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
  <span class="s2">&quot;Serial Number&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
  <span class="s2">&quot;Module ID&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
  <span class="s2">&quot;Description&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
  <span class="s2">&quot;Material&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
  <span class="s2">&quot;cells_in_series&quot;</span><span class="p">:</span> <span class="mi">72</span><span class="p">,</span>
  <span class="s2">&quot;IV Curves&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">&quot;Index&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s2">&quot;Voltages&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;0.0&quot;</span><span class="p">,</span>
        <span class="o">...</span>
      <span class="p">],</span>
      <span class="s2">&quot;Currents&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;0.9996667777132812&quot;</span><span class="p">,</span>
        <span class="o">...</span>
      <span class="p">],</span>
      <span class="s2">&quot;diode_voltage&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;0.09996667777132812&quot;</span><span class="p">,</span>
        <span class="o">...</span>
      <span class="p">],</span>
      <span class="s2">&quot;v_oc&quot;</span><span class="p">:</span> <span class="s2">&quot;39.7481074783976643&quot;</span><span class="p">,</span>
      <span class="s2">&quot;i_sc&quot;</span><span class="p">:</span> <span class="s2">&quot;0.9996667777132812&quot;</span><span class="p">,</span>
      <span class="s2">&quot;v_mp&quot;</span><span class="p">:</span> <span class="s2">&quot;33.9368943991155301&quot;</span><span class="p">,</span>
      <span class="s2">&quot;i_mp&quot;</span><span class="p">:</span> <span class="s2">&quot;0.8461238606639279&quot;</span><span class="p">,</span>
      <span class="s2">&quot;p_mp&quot;</span><span class="p">:</span> <span class="s2">&quot;28.7148161079236649&quot;</span><span class="p">,</span>
      <span class="s2">&quot;Temperature&quot;</span><span class="p">:</span> <span class="s2">&quot;298.15&quot;</span><span class="p">,</span>
      <span class="s2">&quot;Irradiance&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
      <span class="s2">&quot;Sweep direction&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
      <span class="s2">&quot;Datetime&quot;</span><span class="p">:</span> <span class="s2">&quot;1970-01-01T00:00:00Z&quot;</span>
    <span class="p">},</span>
    <span class="o">...</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Under the <code class="docutils literal notranslate"><span class="pre">&quot;IV</span> <span class="pre">Curves&quot;</span></code> key is a list of IV curve data sets each with an <code class="docutils literal notranslate"><span class="pre">&quot;Index&quot;</span></code> value.
The <code class="docutils literal notranslate"><span class="pre">&quot;Index&quot;</span></code> value is the test case number of the test set.</p>
<p>The decimal numbers in each test case are calculated at a higher precision than what a 64-bit floating point number can store.
To be sure that precision is not lost unintentionally when reading the JSON, the numbers are stored in strings.
The competitor must decide how to parse these numbers in their submission.
Here are some options:</p>
<ol class="arabic simple">
<li><p>Parse the strings containing a number into a Python <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>.
Any precision that cannot be stored in a 64-bit floating point number will be lost.</p></li>
<li><p>Use an arbitrary precision math library to parse the strings containing a number.
The library <a class="reference external" href="https://mpmath.org/">mpmath</a> was used to calculate the IV curve data in these test sets.</p>
</li>
</ol>
<p>JSON test sets may be added after you submit your code, so it must not rely on their filename.
Here is Python code that may be useful for getting a set of all the JSON filenames in <code class="docutils literal notranslate"><span class="pre">test_sets</span></code> dynamically:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># these modules are part of the Python standard library</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">pathlib</span>

<span class="c1"># these modules are installed</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>


<span class="k">def</span> <span class="nf">get_test_set_filepaths</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a sorted list of pathlib.Path objects pointing to the JSON test set</span>
<span class="sd">    files. pathlib.Path objects can be passed directly to Python&#39;s ``open``</span>
<span class="sd">    function to open the JSON file.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">        A list.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">path_to_test_sets</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span> <span class="o">/</span> <span class="s1">&#39;..&#39;</span> <span class="o">/</span> <span class="s1">&#39;..&#39;</span> <span class="o">/</span> <span class="s1">&#39;test_sets&#39;</span>
    <span class="n">file_entries</span> <span class="o">=</span> <span class="nb">list</span><span class="p">({</span><span class="n">path_to_test_sets</span> <span class="o">/</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">entry</span><span class="o">.</span><span class="n">stem</span><span class="si">}</span><span class="s1">.json&#39;</span>
                         <span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">path_to_test_sets</span><span class="o">.</span><span class="n">iterdir</span><span class="p">()</span>
                         <span class="k">if</span> <span class="n">entry</span><span class="o">.</span><span class="n">is_file</span><span class="p">()})</span>
    <span class="n">file_entries</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">file_entries</span>


<span class="k">def</span> <span class="nf">get_test_set_name</span><span class="p">(</span><span class="n">filepath</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Gets a test set filename from a filepath.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    filepath : pathlib.Path</span>
<span class="sd">        A filepath pointing to a JSON test set file.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">        The test set name given a pathlib.Path object pointing to a JSON</span>
<span class="sd">        test set file.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">filepath</span><span class="o">.</span><span class="n">stem</span>


<span class="k">def</span> <span class="nf">json_file_to_df</span><span class="p">(</span><span class="n">filepath</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates a pandas DataFrame from an IV Curve JSON file.</span>
<span class="sd">    All of the numerical values stored as strings in the JSON as parsed to</span>
<span class="sd">    np.float64.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    filepath : pathlib.Path</span>
<span class="sd">        A Path object pointing to the JSON file.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">        A pandas DataFrame.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_json</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;IV Curves&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span>

    <span class="c1"># set up index</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Index&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Index&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;Index&#39;</span><span class="p">)</span>

    <span class="c1"># convert Voltages and Currents from string array to float array.</span>
    <span class="c1"># this truncates from precise values to 64-bit precision.</span>
    <span class="n">arrs</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Voltages&#39;</span><span class="p">,</span> <span class="s1">&#39;Currents&#39;</span><span class="p">]</span>
    <span class="n">df</span><span class="p">[</span><span class="n">arrs</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">arrs</span><span class="p">]</span><span class="o">.</span><span class="n">applymap</span><span class="p">(</span><span class="k">lambda</span> <span class="n">a</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">))</span>

    <span class="c1"># convert from string to float</span>
    <span class="n">nums</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;v_oc&#39;</span><span class="p">,</span> <span class="s1">&#39;i_sc&#39;</span><span class="p">,</span> <span class="s1">&#39;v_mp&#39;</span><span class="p">,</span> <span class="s1">&#39;i_mp&#39;</span><span class="p">,</span> <span class="s1">&#39;p_mp&#39;</span><span class="p">,</span> <span class="s1">&#39;Temperature&#39;</span><span class="p">]</span>
    <span class="n">df</span><span class="p">[</span><span class="n">nums</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">nums</span><span class="p">]</span><span class="o">.</span><span class="n">applymap</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">df</span>


<span class="k">def</span> <span class="nf">json_file_to_dict</span><span class="p">(</span><span class="n">filepath</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a Python dict of the contents of a JSON file.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    filepath : pathlib.Path</span>
<span class="sd">        The filepath pointing to a JSON file.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">        A Python dict.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="writing-test-set-results-to-csv-files">
<h3>Writing Test Set Results to CSV Files<a class="headerlink" href="#writing-test-set-results-to-csv-files" title="Permalink to this heading">#</a></h3>
<p>For each JSON test set <code class="docutils literal notranslate"><span class="pre">&lt;test_set_name&gt;.json</span></code> in <code class="docutils literal notranslate"><span class="pre">test_sets</span></code>, your code must write a CSV file <code class="docutils literal notranslate"><span class="pre">&lt;test_set_name&gt;.csv</span></code> <strong>in the folder containing the entrypoint of your submission.</strong>
Each CSV file must have these columns:</p>
<table class="table" id="id1">
<caption><span class="caption-text">&lt;test_set_name&gt;.csv</span><a class="headerlink" href="#id1" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Index</p></th>
<th class="head"><p>photocurrent</p></th>
<th class="head"><p>saturation_current</p></th>
<th class="head"><p>resistance_series</p></th>
<th class="head"><p>resistance_shunt</p></th>
<th class="head"><p>n</p></th>
<th class="head"><p>cells_in_series</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>#</p></td>
<td><p>#</p></td>
<td><p>#</p></td>
<td><p>#</p></td>
<td><p>#</p></td>
<td><p>#</p></td>
<td><p>#</p></td>
</tr>
</tbody>
</table>
<p>The column <code class="docutils literal notranslate"><span class="pre">n</span></code> is the diode factor.</p>
<p>Each row of the CSV file will contain your fitted parameters for each test case in its corresponding test set.
The script that scores your submission will read your CSV file and use an arbitrary precision math library to parse your fitted parameters.</p>
</section>
</section>
<section id="testing-your-submission">
<h2>Testing Your Submission<a class="headerlink" href="#testing-your-submission" title="Permalink to this heading">#</a></h2>
<p>The Python scripts used to score your submission are available for you to run locally.
For example, you may run <code class="docutils literal notranslate"><span class="pre">ivcurves/compare_curves.py</span></code> to score your fitted parameters for a test set.</p>
<p>To run <code class="docutils literal notranslate"><span class="pre">ivcurves/compare_curves.py</span></code> for all test sets, run the command</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3 ivcurves/compare_curves.py folder/containing/your/CSV/files/ --csv-ouput-path folder/to/write/your/scores/
</pre></div>
</div>
<p>To run <code class="docutils literal notranslate"><span class="pre">ivcurves/compare_curves.py</span></code> for a single test set <code class="docutils literal notranslate"><span class="pre">&lt;test_set&gt;.json</span></code>, run the command</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3 ivcurves/compare_curves.py folder/containing/your/CSV/files/ --test-set &lt;test_set&gt; --csv-ouput-path folder/to/write/your/scores/
<span class="c1"># the file extension of the --test-set argument is NOT included</span>
</pre></div>
</div>
<p>See the <a class="reference internal" href="reference/index.html#ivcurves-docs-index"><span class="std std-ref">IV Curves documentation</span></a> for more information.</p>
</section>
<section id="documenting-your-submission">
<h2>Documenting Your Submission<a class="headerlink" href="#documenting-your-submission" title="Permalink to this heading">#</a></h2>
<p>These steps will cover how to add your submission to the ivcurves Submissions documentation.
The ivcurves documentation uses numpy-sytle docstrings.</p>
<ol class="arabic">
<li><p>In the <code class="docutils literal notranslate"><span class="pre">docs/sphinx/source/submissions</span></code> folder, make a new folder <code class="docutils literal notranslate"><span class="pre">&lt;your_GitHub_username&gt;</span></code>.
All documentation files you create will go in this folder.</p></li>
<li><p>For each of your submission’s <code class="docutils literal notranslate"><span class="pre">.py</span></code> files in the top level of the <code class="docutils literal notranslate"><span class="pre">submissions/&lt;your_GitHub_username&gt;</span></code> folder, create a file <code class="docutils literal notranslate"><span class="pre">&lt;your_py_filename.py&gt;.rst</span></code> containing the following:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="gh">&lt;your_py_filename&gt;</span>
<span class="gh">==================</span>

<span class="p">..</span> <span class="ow">autodoc</span><span class="p">::</span> submissions.&lt;your_GitHub_username&gt;.&lt;your_py_filename&gt;
   <span class="nc">:members:</span>
</pre></div>
</div>
</li>
<li><p>The following steps are for registering your submission’s <code class="docutils literal notranslate"><span class="pre">.py</span></code> files that are in subfolders under <code class="docutils literal notranslate"><span class="pre">submissions/&lt;your_GitHub_username&gt;</span></code>.</p>
<ol class="arabic">
<li><p>Create a folder <code class="docutils literal notranslate"><span class="pre">&lt;your_subfolder_name&gt;</span></code>. This will contain all the documentation files you create in this set of steps.</p></li>
<li><p>Inside that folder, for each <code class="docutils literal notranslate"><span class="pre">.py</span></code> file under <code class="docutils literal notranslate"><span class="pre">submissions/&lt;your_GitHub_username&gt;/&lt;your_subfolder_name&gt;</span></code> create a file <code class="docutils literal notranslate"><span class="pre">&lt;your_py_filename.py&gt;.rst</span></code>.</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="gh">&lt;your_py_filename&gt;</span>
<span class="gh">==================</span>

<span class="hll"><span class="p">..</span> <span class="ow">autodoc</span><span class="p">::</span> submissions.&lt;your_GitHub_username&gt;.&lt;your_subfolder_name&gt;.&lt;your_py_filename&gt;
</span>   <span class="nc">:members:</span>
</pre></div>
</div>
<p><strong>&lt;your_subfolder_name&gt; is included in the path given to autodoc.</strong></p>
</li>
<li><p>Create a file <code class="docutils literal notranslate"><span class="pre">index.rst</span></code> containing the following:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="gh">&lt;your_subfolder_name&gt;</span>
<span class="gh">=====================</span>

<span class="p">..</span> <span class="ow">toctree</span><span class="p">::</span>
   <span class="nc">:maxdepth:</span> 2

<span class="cp">   ..</span>
<span class="cp">      Write the name of each .rst file you created here.</span>
<span class="cp">      The .rst extension should be ommitted.</span>

<span class="cp">   &lt;your_py_filename1&gt;</span>
<span class="cp">   &lt;your_py_filename2&gt;</span>
</pre></div>
</div>
</li>
</ol>
</li>
<li><p>Back in <code class="docutils literal notranslate"><span class="pre">docs/sphinx/source/submissions/&lt;your_GitHub_username&gt;</span></code>, create a file <code class="docutils literal notranslate"><span class="pre">index.rst</span></code> containing the following:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="gh">&lt;your_GitHub_username&gt;</span>
<span class="gh">======================</span>

<span class="p">..</span> <span class="ow">toctree</span><span class="p">::</span>
   <span class="nc">:maxdepth:</span> 2

<span class="cp">   ..</span>
<span class="cp">      Write the name of each .rst file you created for your .py files in</span>
<span class="cp">      the top level of ``submissions/&lt;your_GitHub_username&gt;``.</span>
<span class="cp">      The .rst extension should be ommitted.</span>

<span class="cp">   &lt;your_py_filename1&gt;</span>
<span class="cp">   &lt;your_py_filename2&gt;</span>

<span class="cp">   ..</span>
<span class="cp">      For each subfolder in ``submissions/&lt;your_GitHub_username&gt;``, write</span>
<span class="cp">      the following lines:</span>

<span class="cp">   &lt;your_subfolder_name1&gt;/index</span>
<span class="cp">   &lt;your_subfolder_name2&gt;/index</span>
</pre></div>
</div>
</li>
<li><p>Suppose your submission has a folder structure like this:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>submissions/&lt;your_GitHub_username&gt;
    <span class="p">|</span>- pr_config.json
    <span class="p">|</span>- requirements.txt
    <span class="p">|</span>- &lt;your_py_filename1&gt;.py
    <span class="p">|</span>- &lt;your_subfolder_name1&gt;/
         <span class="p">|</span>- &lt;your_py_filename1&gt;.py
</pre></div>
</div>
<p>After following the previous steps, your submission’s documentation should have a folder structure like this:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docs/sphinx/source/submissions/
  <span class="p">|</span>- index.rst
  <span class="p">|</span>- &lt;your_GitHub_username&gt;/
       <span class="p">|</span>- index.rst
       <span class="p">|</span>- &lt;your_py_filename1&gt;.rst
       <span class="p">|</span>- &lt;your_subfolder_name1&gt;/
            <span class="p">|</span>- index.rst
            <span class="p">|</span>- &lt;your_py_filename1&gt;.rst
</pre></div>
</div>
</li>
<li><p>Finally, inside <code class="docutils literal notranslate"><span class="pre">submissions/index.rst</span></code> like in the highlighted line:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="gh">Submissions</span>
<span class="gh">===========</span>

<span class="p">..</span> <span class="ow">toctree</span><span class="p">::</span>
   <span class="nc">:maxdepth:</span> 2

   &lt;other_GitHub_username1&gt;/index
<span class="hll">   &lt;your_GitHub_username&gt;/index
</span></pre></div>
</div>
</li>
</ol>
<p>To help describe or contextualize your code, you may create links to external sites using this Sphinx rst directive in your docstrings:</p>
<blockquote>
<div><div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>Link to an <span class="s">`external site`_</span>.

<span class="p">..</span> <span class="nt">_external site:</span> &lt;url&gt;

<span class="cp">..</span>
<span class="cp">   Example:</span>

Link to <span class="s">`Sphinx documentation`_</span>.

<span class="p">..</span> <span class="nt">_Sphinx documentation:</span> https://www.sphinx-doc.org/en/master/usage/restructuredtext/basics.html#hyperlinks
</pre></div>
</div>
</div></blockquote>
</section>
</section>


              </article>
              

              
              <footer class="bd-footer-article">
                  <!-- Previous / next buttons -->
<div class='prev-next-area'>
  <a class='left-prev' id="prev-link" href="test_cases.html" title="previous page">
      <i class="fas fa-angle-left"></i>
      <div class="prev-next-info">
          <p class="prev-next-subtitle">previous</p>
          <p class="prev-next-title">Test Cases</p>
      </div>
  </a>
  <a class='right-next' id="next-link" href="submissions/index.html" title="next page">
  <div class="prev-next-info">
      <p class="prev-next-subtitle">next</p>
      <p class="prev-next-title">Submissions</p>
  </div>
  <i class="fas fa-angle-right"></i>
  </a>
</div>
              </footer>
              
          </div>
          
      </div>
    </div>

  
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/pydata-sphinx-theme.js?digest=92025949c220c2e29695"></script>

<footer class="bd-footer"><div class="bd-footer__inner container">
  
  <div class="footer-item">
    <p class="copyright">
    &copy; Copyright 2022, ivcurves Development Team.<br>
</p>
  </div>
  
  <div class="footer-item">
    <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 5.3.0.<br>
</p>
  </div>
  
</div>
</footer>
  </body>
</html>